{"ast":null,"code":"var _jsxFileName = \"/Users/darina/Documents/GitHub/goit-react-hw-03-image-finder/src/components/ImageInfo/ImageInfo.jsx\";\nimport { Component } from 'react';\nimport imageApi from './Image-api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Status = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected'\n};\nexport default class ImageInfo extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      image: null,\n      error: null,\n      status: Status.IDLE\n    };\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevName = prevProps.imageName;\n    const nextName = this.props.ImageName;\n\n    if (prevName !== nextName) {\n      this.setState({\n        status: Status.PENDING\n      });\n    }\n\n    imageApi.fetchImage(nextName).then(image => this.setState({\n      image,\n      status: Status.RESOLVED\n    })).catch(error => this.setState({\n      image,\n      status: Status.REJECTED\n    }));\n  }\n\n  render() {\n    const {\n      image,\n      error,\n      status\n    } = this.state;\n    const {\n      imageName\n    } = this.props;\n\n    if (status === 'idle') {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Enter text\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 20\n      }, this);\n    }\n\n    if (status === 'pending') {\n      return /*#__PURE__*/_jsxDEV(ImagePendingView, {\n        imageName: imageName\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 20\n      }, this);\n    }\n\n    if (status === 'rejected') {\n      return /*#__PURE__*/_jsxDEV(ErrorView, {\n        message: error.message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 20\n      }, this);\n    }\n\n    if (status === 'resolved') {\n      return /*#__PURE__*/_jsxDEV(DataView, {\n        image: image\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 20\n      }, this);\n    }\n  }\n\n}","map":{"version":3,"sources":["/Users/darina/Documents/GitHub/goit-react-hw-03-image-finder/src/components/ImageInfo/ImageInfo.jsx"],"names":["Component","imageApi","Status","IDLE","PENDING","RESOLVED","REJECTED","ImageInfo","state","image","error","status","componentDidUpdate","prevProps","prevState","prevName","imageName","nextName","props","ImageName","setState","fetchImage","then","catch","render","message"],"mappings":";AAAA,SAASA,SAAT,QAA0B,OAA1B;AACA,OAAOC,QAAP,MAAqB,aAArB;;AAEA,MAAMC,MAAM,GAAG;AACXC,EAAAA,IAAI,EAAE,MADK;AAEXC,EAAAA,OAAO,EAAE,SAFE;AAGXC,EAAAA,QAAQ,EAAE,UAHC;AAIXC,EAAAA,QAAQ,EAAE;AAJC,CAAf;AAOA,eAAe,MAAMC,SAAN,SAAwBP,SAAxB,CAAkC;AAAA;AAAA;AAAA,SAC7CQ,KAD6C,GACrC;AACJC,MAAAA,KAAK,EAAE,IADH;AAEJC,MAAAA,KAAK,EAAE,IAFH;AAGJC,MAAAA,MAAM,EAAET,MAAM,CAACC;AAHX,KADqC;AAAA;;AAO7CS,EAAAA,kBAAkB,CAACC,SAAD,EAAYC,SAAZ,EAAuB;AACrC,UAAMC,QAAQ,GAAGF,SAAS,CAACG,SAA3B;AACA,UAAMC,QAAQ,GAAG,KAAKC,KAAL,CAAWC,SAA5B;;AAEA,QAAIJ,QAAQ,KAAKE,QAAjB,EAA2B;AACvB,WAAKG,QAAL,CAAc;AAAET,QAAAA,MAAM,EAAET,MAAM,CAACE;AAAjB,OAAd;AACH;;AAEDH,IAAAA,QAAQ,CAACoB,UAAT,CAAoBJ,QAApB,EAA8BK,IAA9B,CAAmCb,KAAK,IAAI,KAAKW,QAAL,CAAc;AAAEX,MAAAA,KAAF;AAASE,MAAAA,MAAM,EAACT,MAAM,CAACG;AAAvB,KAAd,CAA5C,EAA6FkB,KAA7F,CAAmGb,KAAK,IAAI,KAAKU,QAAL,CAAc;AAAEX,MAAAA,KAAF;AAASE,MAAAA,MAAM,EAACT,MAAM,CAACI;AAAvB,KAAd,CAA5G;AACH;;AAEDkB,EAAAA,MAAM,GAAG;AACL,UAAM;AAAEf,MAAAA,KAAF;AAASC,MAAAA,KAAT;AAAgBC,MAAAA;AAAhB,QAA2B,KAAKH,KAAtC;AACA,UAAM;AAAEQ,MAAAA;AAAF,QAAgB,KAAKE,KAA3B;;AAEA,QAAIP,MAAM,KAAK,MAAf,EAAuB;AACnB,0BAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAP;AACH;;AAED,QAAIA,MAAM,KAAK,SAAf,EAA0B;AACtB,0BAAO,QAAC,gBAAD;AAAkB,QAAA,SAAS,EAAEK;AAA7B;AAAA;AAAA;AAAA;AAAA,cAAP;AACH;;AAED,QAAIL,MAAM,KAAK,UAAf,EAA2B;AACvB,0BAAO,QAAC,SAAD;AAAW,QAAA,OAAO,EAAED,KAAK,CAACe;AAA1B;AAAA;AAAA;AAAA;AAAA,cAAP;AACH;;AAED,QAAId,MAAM,KAAK,UAAf,EAA2B;AACvB,0BAAO,QAAC,QAAD;AAAU,QAAA,KAAK,EAAEF;AAAjB;AAAA;AAAA;AAAA;AAAA,cAAP;AACH;AACJ;;AArC4C","sourcesContent":["import { Component } from 'react';\nimport imageApi from './Image-api';\n\nconst Status = {\n    IDLE: 'idle',\n    PENDING: 'pending',\n    RESOLVED: 'resolved',\n    REJECTED: 'rejected',\n}\n\nexport default class ImageInfo extends Component {\n    state = {\n        image: null,\n        error: null,\n        status: Status.IDLE\n    }\n\n    componentDidUpdate(prevProps, prevState) { \n        const prevName = prevProps.imageName;\n        const nextName = this.props.ImageName;\n\n        if (prevName !== nextName) {\n            this.setState({ status: Status.PENDING });\n        }\n\n        imageApi.fetchImage(nextName).then(image => this.setState({ image, status:Status.RESOLVED})).catch(error => this.setState({ image, status:Status.REJECTED}))\n    }\n\n    render() { \n        const { image, error, status } = this.state;\n        const { imageName } = this.props;\n\n        if (status === 'idle') {\n            return <div>Enter text</div>\n        }\n\n        if (status === 'pending') {\n            return <ImagePendingView imageName={imageName} />\n        }\n\n        if (status === 'rejected') { \n            return <ErrorView message={error.message} />\n        }\n\n        if (status === 'resolved') {\n            return <DataView image={image}/>\n        }\n    }\n}"]},"metadata":{},"sourceType":"module"}