{"ast":null,"code":"var _jsxFileName = \"/Users/darina/Documents/GitHub/goit-react-hw-03-image-finder/src/components/ImageInfo/ImageInfo.jsx\";\nimport { Component } from 'react';\nimport ImageGallery from '../ImageGallery';\nimport Loader from 'components/Loader';\nimport Button from 'components/Button';\nimport Modal from 'components/Modal';\nimport fetchImages from '../../services/image-api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nlet page = 1;\nconst Status = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected'\n};\nexport default class ImageInfo extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      text: '',\n      image: null,\n      error: null,\n      showModal: false,\n      status: Status.IDLE\n    };\n\n    this.toggleModal = () => {\n      this.setState(_ref => {\n        let {\n          showModal\n        } = _ref;\n        return {\n          showModal: !showModal\n        };\n      });\n    };\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevName = prevProps.imageName;\n    const nextName = this.props.imageName;\n    this.state.text = nextName;\n\n    if (prevName !== nextName) {\n      this.setState({\n        status: Status.PENDING\n      });\n      fetchImages(nextName, page).then(image => this.setState({\n        image: image.hits,\n        status: Status.RESOLVED\n      }));\n    }\n  }\n\n  onNextPage(prevProps) {\n    this.setState({\n      status: Status.PENDING\n    });\n    page += 1;\n    fetchImages(this.state.text, page).then(image => this.setState(prevState => ({\n      image: [...prevState.image, ...image.hits],\n      status: Status.RESOLVED\n    })));\n  }\n\n  render() {\n    const {\n      image,\n      error,\n      status\n    } = this.state;\n    const {\n      imageName\n    } = this.props;\n\n    if (status === 'idle') {\n      return;\n    }\n\n    if (status === 'pending') {\n      return /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 20\n      }, this);\n    }\n\n    if (status === 'rejected') {\n      return alert(error);\n    }\n\n    if (status === 'resolved') {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(ImageGallery, {\n          images: image\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 22\n        }, this), showModal && /*#__PURE__*/_jsxDEV(Modal, {\n          onClose: this.toggleModal,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"Hi\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: this.onNextPage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }, this);\n    }\n  }\n\n}","map":{"version":3,"sources":["/Users/darina/Documents/GitHub/goit-react-hw-03-image-finder/src/components/ImageInfo/ImageInfo.jsx"],"names":["Component","ImageGallery","Loader","Button","Modal","fetchImages","page","Status","IDLE","PENDING","RESOLVED","REJECTED","ImageInfo","state","text","image","error","showModal","status","toggleModal","setState","componentDidUpdate","prevProps","prevState","prevName","imageName","nextName","props","then","hits","onNextPage","render","alert"],"mappings":"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","sourcesContent":["import { Component } from 'react';\nimport ImageGallery from '../ImageGallery'\nimport Loader from 'components/Loader';\nimport Button from 'components/Button';\nimport Modal from 'components/Modal';\n\nimport fetchImages from '../../services/image-api';\n\nlet page = 1;\n\nconst Status = {\n    IDLE: 'idle',\n    PENDING: 'pending',\n    RESOLVED: 'resolved',\n    REJECTED: 'rejected',\n}\n\nexport default class ImageInfo extends Component {\n    state = {\n        text: '',\n        image: null,\n        error: null,\n        showModal: false,\n        status: Status.IDLE\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n        const prevName = prevProps.imageName;\n        const nextName = this.props.imageName;\n        this.state.text = nextName;\n\n        if (prevName !== nextName) {\n\n            this.setState({ status: Status.PENDING });\n\n            fetchImages(nextName, page)\n                .then(image => this.setState({ image: image.hits, status: Status.RESOLVED }))\n        }\n    }\n\n    onNextPage(prevProps) {\n        this.setState({ status: Status.PENDING });\n        page += 1;\n\n            fetchImages(this.state.text, page)\n                .then(image => this.setState(prevState => ({ image: [...prevState.image, ...image.hits], status: Status.RESOLVED })))\n    }\n\n     toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n\n    render() { \n        const { image, error, status } = this.state;\n        const { imageName } = this.props\n\n        if (status === 'idle') {\n            return \n        }\n\n        if (status === 'pending') {\n            return <Loader/>\n        }\n\n        if (status === 'rejected') { \n            return alert(error)\n        }\n\n        if (status === 'resolved') {\n            return (\n                <div><ImageGallery images={image} />\n                    {showModal && (\n          <Modal onClose={this.toggleModal}>\n            <div>Hi</div>\n          </Modal>\n        )}\n                {(\n            <Button onClick={this.onNextPage} />\n          )}</div>)\n        }\n    }\n}"]},"metadata":{},"sourceType":"module"}